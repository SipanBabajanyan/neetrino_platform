const express = require("express"); const cors = require("cors"); const app = express(); const PORT = 3001; app.use(cors()); app.use(express.json()); app.get("/health", (req, res) => { res.json({ status: "OK", message: "Test server is running" }); }); app.post("/import/push", (req, res) => { console.log("Received products:", req.body.items?.length || 0); res.json({ success: true, received: req.body.items?.length || 0, upsertedByWcId: req.body.items?.length || 0, insertedNew: req.body.items?.length || 0, message: "Products received successfully" }); }); app.listen(PORT, () => { console.log(`Test server running on http://localhost:${PORT}`); });
